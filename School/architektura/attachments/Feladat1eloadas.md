---

excalidraw-plugin: parsed
tags: [excalidraw]

---
==⚠  Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. ⚠== You can decompress Drawing data with the command palette: 'Decompress current Excalidraw file'. For more info check in plugin settings under 'Saving'


# Excalidraw Data
## Text Elements
PortX(3Fh) - chanel select
PortA(3Eh) - konverzio start: not bit(7)
PortB(3Bh) - konv eredmeny (8bit)7:0 (mentes data memory indirect cimzes)
Megszakitas keres - konv vege
 ^nJb2Xr9B

-- kiirom variablelekbe
CONSTANT 3F, PortX
CONSTANT 3E, PortA
CONSTANT 3B, PortB
NAMEREG S0, chNr
NAMEREG S1, ConvResult
NAMEREG S2, DatamMemAddr
NAMEREG S3, Start

ENABLE INTERRUPT

NAMEREG S4, IsRunning

LOAD IsRunning, 01-- continue
-- lenullazom
LOAD DataMemAddr, 00
CH0:
LOAD ChNr, 00
NextCh:
OUTPUT ChNr, PortX
INPUT Start, PortA
XOR Start, 80
OUTPUT Start, PortA
ADD ChNr, 01 -- novelni a chanel numbert hogy
COMPARE, ChNr, 04
JUMP Z, Ch0
JUMP NextCh
-- megszakitas kezdete
int_routine:

INPUT ConvResult, PortB
STORE ConvResult, (DataMemAddr)
ADD DataMemAddr, 01

COMPARE DataMemAddr, 20 -- ha megtelt, aka = 32
JUMP Z, DisableInt -- atugrik ugy hogy kikpacsolja az interruptokat
RETURNI ENABLE -- ha nem akkor meg tovabbra is kaphat

DisableInt: RETURNI DISABLE

-- utolso 2 sor mindig
ADDRESS 3FF
JUMP intr_routine -- elugrik a megszakitas kezdetere ^K6gO0oSO

%%
## Drawing
```compressed-json
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
```
%%